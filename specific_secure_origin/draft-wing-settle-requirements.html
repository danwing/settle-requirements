<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Requirements for HTTPS for Local Domains</title>
<meta content="Dan Wing" name="author">
<meta content="Erik Nygren" name="author">
<meta content="Michael Richardson" name="author">
<meta content="
       When connecting to servers on their local network, users are
surprised to encounter user interfaces that display errors,
show insecure connections, and block some HTTP features
when missing a secure context.  However, obtaining PKIX
certificates for those servers is difficult for a variety
of reasons. 
       This document explores requirements for authenticating local servers. 
    " name="description">
<meta content="xml2rfc 3.28.0" name="generator">
<meta content="https" name="keyword">
<meta content="local domains" name="keyword">
<meta content="pki" name="keyword">
<meta content="pkix" name="keyword">
<meta content="certificate authority" name="keyword">
<meta content="tls" name="keyword">
<meta content="identity" name="keyword">
<meta content="authentication" name="keyword">
<meta content="draft-wing-settle-requirements-latest" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.28.0
    Python 3.12.9
    ConfigArgParse 1.7
    google-i18n-address 3.1.1
    intervaltree 3.1.0
    Jinja2 3.1.6
    lxml 5.3.0
    platformdirs 4.3.6
    pycountry 24.6.1
    PyYAML 6.0.2
    requests 2.32.3
    setuptools 70.3.0
    wcwidth 0.2.13
-->
<link href="draft-wing-settle-requirements.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}

@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Lora SemiBold'), local('Lora-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C8A, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-cyrillic.woff2') format('woff2');
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-greek.woff2') format('woff2');
  unicode-range: U+0370-0377, U+037A-037F, U+0384-038A, U+038C, U+038E-03A1, U+03A3-03FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C8A, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-cyrillic.woff2') format('woff2');
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-greek.woff2') format('woff2');
  unicode-range: U+0370-0377, U+037A-037F, U+0384-038A, U+038C, U+038E-03A1, U+03A3-03FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

:root {
  color-scheme: light dark;
  --background-color: #fff;
  --text-color: #222;
  --title-color: #191919;
  --link-color: #2a6496;
  --highlight-color: #f9f9f9;
  --line-color: #eee;
  --pilcrow-weak: #ddd;
  --pilcrow-strong: #bbb;
  --small-font-size: 14.5px;
  --font-mono: 'Oxygen Mono', monospace;
  --font-title: "Sofia Sans Semi Condensed", sans-serif;
  scrollbar-color: #bbb #eee;
}
body {
  max-width: 600px;
  margin: 75px auto;
  padding: 0 5px;
  color: var(--text-color);
  background-color: var(--background-color);
  font: 16px/22px "Lora", serif;
  scroll-behavior: smooth;
}

.ears {
  display: none;
}

/* headings */
section {
  clear: both;
}
.section-number {
  padding-right: 0.5em;
}
h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-title);
  font-weight: 680;
  margin: 0.8em 0 0.3em;
  font-size-adjust: 0.5;
  color: var(--title-color);
}
h1#title {
  font-size: 32px;
  line-height: 40px;
  clear: both;
}
h1#title, h1#rfcnum {
  margin: 1.5em 0 0.2em;
}
h1#rfcnum + h1#title {
  margin: 0.2em 0;
}

h1, h2, h3 {
  font-size: 22px;
  line-height: 27px;
}
h4, h5, h6 {
  font-size: 20px;
  line-height: 24px;
}

/* general structure */
.author {
  padding-bottom: 0.3em;
  vertical-align: top;
}
#abstract+p {
  font-size: 18px;
  line-height: 24px;
}
#abstract+p code, #abstract+p samp, #abstract+p tt {
  font-size: 16px;
  line-height: 0;
}

p {
  padding: 0;
  margin: 0.5em 0;
  text-align: left;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignRight.art-text pre {
  padding: 0;
  width: auto;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
/* font-family isn't space-separated, but =~ will have to do */
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignCenter.art-text pre {
  padding: 0;
  width: auto;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 0.5em 2em;
  & :is(ol, ul) {
    margin-left: 1em;
  }
}
li {
  margin: 0 0 0.25em 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
  & li {
    margin-top: 0.5em;
  }
}
:is(ul, ol).compact, .ulCompact, .olCompact {
  margin: 0 0 0 2em;
  & li {
    margin: 0;
    & :first-child { margin-top: 0; }
    & :last-child { margin-bottom: 0; }
  }
}

/* definition lists */
dl {
  clear: left;
  --indent: 3ch;
  /* --indent: attr(indent ch); not supported in any browser, but we can dream */
  &.olPercent {
    --indent: 5ch;
    & > dt {
      min-width: calc(var(--indent) - 2ch);
    }
  }
  &.olPercent > dt {
    float: none;
  }

  dl > dd > & {
    margin-top: 0.5em;
    margin-bottom: 0;
  }
}
dl:not(.dlNewline) > dt {
  float: left;
  margin-right: 2ch;
  min-width: 8ch;
}
dl > dd {
  margin-bottom: .8em;
  margin-left: var(--indent) !important; /* stupid element overrides */
  min-height: 2ex;
}
:is(dl.compact, .dlCompact) > dd {
  margin-bottom: 0;
  & > :is(:first-child, .break:first-child + *) {
    margin-top: 0;
  }
  & > :is(:last-child) {
    margin-bottom: 0;
  }
}
:is(dd, span).break {
  display: none;
}

/* links */
a, a[href].selfRef:hover {
  text-decoration: none;
}
a[href] {
  color: var(--link-color);
}
a[href].selfRef, .iref + a[href].internal {
  color: var(--text-color);
}
a[href]:hover {
  text-decoration: underline;
}
a[href].selfRef:hover {
  background-color: var(--highlight-color);
}
a.xref:is(.cite, .auto), :is(#status-of-memo, #copyright) a {
  white-space: nowrap;
}

/* Figures */
tt, code, pre {
  background-color: var(--highlight-color);
  font: 14px/22px var(--font-mono);
}
tt, code {
  /* changing the font for inline elements leads to different ascender
     and descender heights; as we want to retain baseline alignment,
     remove leading to avoid altering the final height of lines
     note: this fails if these blocks take an entire line,
     a different solution would be great */
  line-height: 0;
}
:is(h1, h2, h3, h4, h5, h6) :is(tt, code) {
  font-size: 84%;
}
pre {
  border: 1px solid var(--line-color);
  font-size: 13.5px;
  line-height: 16px;
  letter-spacing: -0.2px;
  margin: 5px;
  padding: 5px;
}
img {
  max-width: 100%;
}
figure {
  margin: 0.5em 0;
  padding: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption, caption {
  font-style: italic;
  margin: 0.5em 1.5em;
  text-align: left;
  caption-side: bottom;
}
@media screen {
  /* Auto-collapse boilerplate. */
  :is(#status-of-memo, #copyright) p {
    margin: -2px 0;
    max-height: 0;
    transition: max-height 2s ease, margin 0.5s ease 0.5s;
    overflow: hidden;
  }
  :is(#status-of-memo, #copyright):hover p,
  :is(#status-of-memo, #copyright) h2:target ~ p {
    margin: 0.5em 0;
    max-height: 500px;
    overflow: auto;
  }
  pre, svg {
    display: inline-block;
    /* In the horizontal direction, sometimes people make over-sized figures.
       Scrollbars for those is therefore necessary: auto adds them as necessary..
       In the vertical direction, the line-height can combine with the font
       asender/descender height to produce scrollbars: hidden avoids that. */
    overflow: auto hidden;
  }
  pre {
    max-width: 100%;
    width: calc(100% - 22px - 1em);
  }
  svg {
    max-width: calc(100% - 22px - 1em);
  }
  figure pre {
    display: block;
    width: calc(100% - 25px);
  }
  :is(pre, svg) + .pilcrow {
    display: inline-block;
    vertical-align: text-bottom;
    padding-bottom: 8px;
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 0 2em;
  font-style: italic;
}
blockquote {
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: auto;
  max-width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
}
table.right {
  margin-left: auto;
}
table.center {
  margin-left: auto;
  margin-right: auto;
}
table.left {
  margin-right: auto;
}
table .text-left {
  text-align: left;
}
table .text-center {
  text-align: center;
}
table .text-right {
  text-align: right;
}

thead, tbody {
  border: 1px solid var(--line-color);
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 5px 10px;
}
th {
  background-color: var(--line-color);
}
:is(tr:nth-child(2n), thead+tbody > tr:nth-child(2n+1)) > td {
  background-color: var(--background-color);
}
:is(tr:nth-child(2n+1), thead+tbody > tr:nth-child(2n)) > td {
  background-color: var(--highlight-color);
}
table caption {
  margin: 0;
  padding: 3px 0 3px 1em;
}
table p {
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  margin-left: 3px;
  opacity: 0.2;
  user-select: none;
  &[href] {
    color: var(--pilcrow-weak);
    &:hover { text-decoration: none; }
  }
}
@media not print {
  :hover > a.pilcrow {
    opacity: 1;
  }
  a.pilcrow[href]:hover {
    color: var(--pilcrow-strong);
    background-color: transparent;
  }
}
@media print {
  a.pilcrow {
    display: none;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid var(--line-color);
}
.bcp14 {
  font-variant: small-caps;
  font-weight: 600;
  font-size: var(--small-font-size);
}
.role {
  font-variant: all-small-caps;
}
sub, sup {
  line-height: 1;
  font-size: 80%;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: var(--small-font-size);
  line-height: 18px;
  --identifier-width: 15ch;
  & dt {
    width: var(--identifier-width);
    min-width: var(--identifier-width);
    clear: left;
    float: left;
    text-align: right;
    margin-right: 1ch;
  }
  & dd {
    margin: 0;
    margin-left: calc(1em + var(--identifier-width)) !important;
    min-width: 5em;
  }
  & .authors {
    & .author {
      display: inline-block;
      margin-right: 1.5em;
    }
    & .org {
      font-style: italic;
    }
  }
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #999;
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;

  & nav {
    & ul {
      margin: 0 0.5em 0 0;
      padding: 0;
      list-style: none;
    }
    & li {
      line-height: 1.3em;
      margin: 2px 0;
      padding-left: 1.2em;
      text-indent: -1.2em;
    }
  }
  & a.xref {
    white-space: normal;
  }
}

.references {
  & > dt {
    text-align: right;
    font-weight: bold;
    min-width: 10ch;
    margin-right: 1.5ch;
    &:target::before {
      content: "⇒";
      margin: 0 10px 0 -25px;
    }
  }
  & > dd {
    margin-left: 12ch !important;
    overflow: visible;
    & .refInstance {
      margin-bottom: 0.8em;
    }
    & .ascii {
      margin-bottom: 0.25em;
    }
  }
}

#rfc\.index\.index + ul {
  margin-left: 0;
}

/* authors */
address.vcard {
  font-style: normal;
  max-width: 20em;
  margin: 1em auto 1em 0;

  & .nameRole {
    font-weight: 700;
    margin-left: 0;
  }
  & .label {
    margin: 0.5em 0;
  }
  & .type {
    display: none;
  }
  & .alternative-contact {
    margin: 0.5em 0 0.25em 0;
  }
  & .non-ascii {
    margin: 0 0 0 2em;
  }
  & div.left {
    text-align: left;
  }
  & div.right {
    text-align: right;
  }
}

hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}
@media (min-width: 500px) {
  #authors-addresses > section {
    column-count: 2;
    column-gap: 20px;
  }
  #authors-addresses > section > h2 {
    column-span: all;
  }
  /* hack for break-inside: avoid-column */
  #authors-addresses address {
    display: inline-block;
    break-inside: avoid-column;
  }
}

/* Comments */
.rfcEditorRemove p:first-of-type {
  font-style: italic;
}
.cref {
  background-color: rgba(249, 232, 105, 0.3);
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}

@media screen {
  #toc nav {
    font-family: var(--font-title);
    font-weight: 360;
    & > ul { margin-bottom: 2em; }
    & ul {
      margin: 0 0 0 4px;
      & :is(p, li) {
        margin: 2px 0;
      }
    }
  }
  #toc a.toplink {
    float: right;
  }
}
@media not screen {
  #toc a.toplink {
    display: none;
  }
}


/* TOC layout for smaller screens */
@media screen and (max-width: 929px) {
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 1px 0 0 0;
    margin: 0;
    border-bottom: 1px solid #ccc;
    opacity: 0.6;
  }
  #toc h2 {
    margin: 0;
    padding: 2px 0 2px 6px;
    padding-right: 1em;
    font-size: 18px;
    line-height: 24px;
    min-width: 190px;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
    &::before { /* css hamburger */
      float: right;
      position: relative;
      width: 1em;
      height: 1px;
      left: -164px;
      margin: 8px 0 0 0;
      background: white none repeat scroll 0 0;
      box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
      content: "";
    }
  }
  #toc nav {
    display: none;
    background-color: var(--background-color);
    padding: 0.5em 1em 1em;
    overflow: auto;
    overscroll-behavior: contain;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
  #toc.active {
    opacity: 1;
    & nav { display: block; }
  }
  /* Make the collapsed ToC header render white on gray also when it's a link */
  #toc h2 a,
  #toc h2 a:is(:link, :focus, :hover),
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
  #toc a.toplink {
    margin: 2px 0.5em 0;
  }
}

/* TOC layout for wide screens */
@media screen and (min-width: 930px) {
  body {
    padding-right: 360px;
    padding-right: calc(min(180px + 20%, 500px));
  }
  #toc {
    position: fixed;
    bottom: 0;
    right: 0;
    right: calc(50vw - 480px);
    width: 312px;
    margin: 0;
    padding: 0;
    z-index: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 2em;
    overflow: auto;
    overscroll-behavior: contain;
    scrollbar-width: thin;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
  #toc a.toplink {
    margin: 8px 0.5em 0;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre, .vcard {
    page-break-inside: avoid;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  :is(h2, h3, h4, h5, h6)+*, dd {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
}

/* Dark mode. */
@media (prefers-color-scheme: dark) {
:root {
  --background-color: #121212;
  --text-color: #f0f0f0;
  --title-color: #fff;
  --link-color: #4da4f0;
  --highlight-color: #282828;
  --line-color: #444;
  --pilcrow-weak: #444;
  --pilcrow-strong: #666;
  scrollbar-color: #777 #333;
}
}

/* SVG Trick: a prefix match works because only black and white are allowed */
svg :is([stroke="black"], [stroke^="#000"]) {
  stroke: var(--text-color);
}
svg :is([stroke="white"], [stroke^="#fff"]) {
  stroke: var(--background-color);
}
svg :is([fill="black"], [fill^="#000"], :not([fill])) {
  fill: var(--text-color);
}
svg :is([fill="white"], [fill^="#fff"]) {
  fill: var(--background-color);
}
</style>

</head>
<body class="xml2rfc">
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">Requirements for HTTPS for Local Domains</td>
<td class="right">April 2025</td>
</tr></thead>
<tfoot><tr>
<td class="left">Wing, et al.</td>
<td class="center">Expires 3 October 2025</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Network Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-wing-settle-requirements-latest</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2025-04-01" class="published">1 April 2025</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Informational</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2025-10-03">3 October 2025</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">D. Wing</div>
<div class="org">Citrix</div>
</div>
<div class="author">
      <div class="author-name">E. Nygren</div>
<div class="org">Akamai Technologies</div>
</div>
<div class="author">
      <div class="author-name">M. Richardson</div>
<div class="org">Sandelman Software Works</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Requirements for HTTPS for Local Domains</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">When connecting to servers on their local network, users are
surprised to encounter user interfaces that display errors,
show insecure connections, and block some HTTP features
when missing a secure context.  However, obtaining PKIX
certificates for those servers is difficult for a variety
of reasons.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
<p id="section-abstract-2">This document explores requirements for authenticating local servers.<a href="#section-abstract-2" class="pilcrow">¶</a></p>
</section>
<section class="note rfcEditorRemove" id="section-note.1">
      <h2 id="name-about-this-document">
<a href="#name-about-this-document" class="section-name selfRef">About This Document</a>
      </h2>
<p id="section-note.1-1">This note is to be removed before publishing as an RFC.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
<p id="section-note.1-2">
        The latest revision of this draft can be found at <span><a href="https://danwing.github.io/settle-requirements/draft-wing-settle-requirements.html">https://danwing.github.io/settle-requirements/draft-wing-settle-requirements.html</a></span>.
        Status information for this document may be found at <span><a href="https://datatracker.ietf.org/doc/draft-wing-settle-requirements/">https://datatracker.ietf.org/doc/draft-wing-settle-requirements/</a></span>.<a href="#section-note.1-2" class="pilcrow">¶</a></p>
<p id="section-note.1-3">
        Discussion of this document takes place on the
        SETTLE  mailing list (<span><a href="mailto:settle@ietf.org">mailto:settle@ietf.org</a></span>),
        which is archived at <span><a href="https://mailarchive.ietf.org/arch/browse/settle/">https://mailarchive.ietf.org/arch/browse/settle/</a></span>.
        Subscribe at <span><a href="https://www.ietf.org/mailman/listinfo/settle/">https://www.ietf.org/mailman/listinfo/settle/</a></span>.<a href="#section-note.1-3" class="pilcrow">¶</a></p>
<p id="section-note.1-4">Source for this draft and an issue tracker can be found at
        <span><a href="https://github.com/danwing/settle-requirements">https://github.com/danwing/settle-requirements</a></span>.<a href="#section-note.1-4" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 3 October 2025.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2025 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-conventions-and-definitions" class="internal xref">Conventions and Definitions</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-technical-requirements" class="internal xref">Technical Requirements</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1" class="keepWithNext"><a href="#section-3.1" class="auto internal xref">3.1</a>.  <a href="#name-naming" class="internal xref">Naming</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="auto internal xref">3.2</a>.  <a href="#name-cryptographic-binding" class="internal xref">Cryptographic Binding</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="auto internal xref">3.3</a>.  <a href="#name-abstract-naming" class="internal xref">Abstract Naming</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.4">
                <p id="section-toc.1-1.3.2.4.1"><a href="#section-3.4" class="auto internal xref">3.4</a>.  <a href="#name-avoid-central-authority" class="internal xref">Avoid Central Authority</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.5">
                <p id="section-toc.1-1.3.2.5.1"><a href="#section-3.5" class="auto internal xref">3.5</a>.  <a href="#name-multiple-application-protoc" class="internal xref">Multiple Application Protocols</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.6">
                <p id="section-toc.1-1.3.2.6.1"><a href="#section-3.6" class="auto internal xref">3.6</a>.  <a href="#name-cryptographic-agility" class="internal xref">Cryptographic Agility</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.7">
                <p id="section-toc.1-1.3.2.7.1"><a href="#section-3.7" class="auto internal xref">3.7</a>.  <a href="#name-tls-server-name-indication" class="internal xref">TLS Server Name Indication</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.8">
                <p id="section-toc.1-1.3.2.8.1"><a href="#section-3.8" class="auto internal xref">3.8</a>.  <a href="#name-w3c-private-network-access" class="internal xref">W3C Private Network Access</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.9">
                <p id="section-toc.1-1.3.2.9.1"><a href="#section-3.9" class="auto internal xref">3.9</a>.  <a href="#name-operate-with-local-resource" class="internal xref">Operate with Local Resources</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.10">
                <p id="section-toc.1-1.3.2.10.1"><a href="#section-3.10" class="auto internal xref">3.10</a>. <a href="#name-operate-standalone" class="internal xref">Operate Standalone</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.11">
                <p id="section-toc.1-1.3.2.11.1"><a href="#section-3.11" class="auto internal xref">3.11</a>. <a href="#name-web-origin" class="internal xref">Web Origin</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.12">
                <p id="section-toc.1-1.3.2.12.1"><a href="#section-3.12" class="auto internal xref">3.12</a>. <a href="#name-miscellaneous" class="internal xref">Miscellaneous</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-human-factors-requirements" class="internal xref">Human Factors Requirements</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="auto internal xref">4.1</a>.  <a href="#name-discoverable" class="internal xref">Discoverable</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="auto internal xref">4.2</a>.  <a href="#name-easy-to-use" class="internal xref">Easy to Use</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="auto internal xref">4.3</a>.  <a href="#name-bookmarkable" class="internal xref">Bookmarkable</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="auto internal xref">4.4</a>.  <a href="#name-human-friendly-name" class="internal xref">Human-friendly Name</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-big-open-questions" class="internal xref">Big Open Questions</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="auto internal xref">5.1</a>.  <a href="#name-trust-on-first-use-tofu" class="internal xref">Trust on First Use (TOFU)</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="auto internal xref">5.2</a>.  <a href="#name-user-experience" class="internal xref">User Experience</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a href="#section-5.3" class="auto internal xref">5.3</a>.  <a href="#name-trust-relationship" class="internal xref">Trust Relationship</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.4">
                <p id="section-toc.1-1.5.2.4.1"><a href="#section-5.4" class="auto internal xref">5.4</a>.  <a href="#name-interaction-with-matter-thr" class="internal xref">Interaction with Matter/Thread</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-use-cases" class="internal xref">Use Cases</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="auto internal xref">7</a>.  <a href="#name-related-work" class="internal xref">Related Work</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="auto internal xref">8</a>.  <a href="#name-security-considerations" class="internal xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="auto internal xref">9</a>.  <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="auto internal xref">10</a>. <a href="#name-references" class="internal xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a href="#section-10.1" class="auto internal xref">10.1</a>.  <a href="#name-normative-references" class="internal xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a href="#section-10.2" class="auto internal xref">10.2</a>.  <a href="#name-informative-references" class="internal xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#appendix-A" class="auto internal xref">Appendix A</a>.  <a href="#name-change-history" class="internal xref">Change History</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a href="#appendix-A.1" class="auto internal xref">A.1</a>.  <a href="#name-changes-in-01" class="internal xref">Changes in -01</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#appendix-B" class="auto internal xref"></a><a href="#name-acknowledgments" class="internal xref">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#appendix-C" class="auto internal xref"></a><a href="#name-authors-addresses" class="internal xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">Servers on local networks have historically settled for unencrypted
communications -- printers, routers, network attached storage (NAS).
However, with the advent of HTTPS everywhere <span>[<a href="#everywhere" class="cite xref">everywhere</a>]</span>, browsers
disadvantage unencrypted communications by requiring a secure context
(generally HTTPS) for features such as Service Workers, Web Bluetooth,
WebCrypto, WebTransport, and more (<span>[<a href="#not-secure" class="cite xref">not-secure</a>]</span>, <span>[<a href="#sec-context" class="cite xref">sec-context</a>]</span>).
This increases the importance of a secure context to local domains.
Some encrypted services are most useful when operated within the local
domain (e.g., <span>[<a href="#DNR" class="cite xref">DNR</a>]</span> with split DNS).  Printers and network
attached storage on the local domain benefit from encrypted
communications to improve both integrity and privacy.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">In addition, it is recognized that home networks are not (and perhaps have never been) the idyllic secure gardens that many think they are.
There are persistent threats in the home due to malware on devices within the home, as well as malware that might arrive on guest devices.
Most home networks have little protection against various kinds of (layer-2) spoofing attacks, which means that active on-path attacks (MITM) must be assumed.
Securing the administrative and regular connections within the home network would result in significant security gains for all devices in the home.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">Today, a secure context is obtained with a PKIX certificate (<span>[<a href="#RFC5280" class="cite xref">RFC5280</a>]</span>)
signed by a Certification Authority (CA) that is trusted by the client.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">However, servers on a local network cannot easily get PKIX
certificates signed by a Certification Authority because: they are not directly reachable from the outside (due to firewall or NAPT), lack of domain name delegation, and need for ongoing certificate renewal.<a href="#section-1-4" class="pilcrow">¶</a></p>
<p id="section-1-5">The problem has been well recognized since about 2010 and several
proposals have been suggested to solve this problem, each with their
own drawbacks.  This document is not intended to summarize these proposals
or their drawbacks; for that detail see the pointers to previous work
in <a href="#related" class="auto internal xref">Section 7</a>.  At a high level, the proposals have involved
solutions such as:<a href="#section-1-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1-6.1">
          <p id="section-1-6.1.1">pre-shared secrets (scanned, printed, or displayed by the server)<a href="#section-1-6.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-1-6.2">
          <p id="section-1-6.2.1">Public DNS pointing at local domain's IP address (e.g., <span>[<a href="#plex" class="cite xref">plex</a>]</span>)<a href="#section-1-6.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-1-6.3">
          <p id="section-1-6.3.1">Local Certification Authority, where a CA is
added to client's certificate trust list and that CA signs
certificates for devices within the local network<a href="#section-1-6.3.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-1-6.4">
          <p id="section-1-6.4.1">Trust On First Use (TOFU), where a user verifies the first
connection to a server and the client remembers that verification,
similar to common use of ssh<a href="#section-1-6.4.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-1-6.5">
          <p id="section-1-6.5.1">WebRTC and WebTransport, where a PKI-signed server provides a
public key fingerprint of another server that it has previously
bootstrapped<a href="#section-1-6.5.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-1-6.6">
          <p id="section-1-6.6.1">Encoding server's public key into the hostname <span>[<a href="#thomson-hld" class="cite xref">thomson-hld</a>]</span><a href="#section-1-6.6.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-1-7">This document explores IETF requirements for an alternative server
authentication system for local hosts.<a href="#section-1-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="conventions-and-definitions">
<section id="section-2">
      <h2 id="name-conventions-and-definitions">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-conventions-and-definitions" class="section-name selfRef">Conventions and Definitions</a>
      </h2>
<p id="section-2-1">The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
"<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
described in BCP 14 <span>[<a href="#RFC2119" class="cite xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="cite xref">RFC8174</a>]</span> when, and only when, they
appear in all capitals, as shown here.<a href="#section-2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="technical-requirements">
<section id="section-3">
      <h2 id="name-technical-requirements">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-technical-requirements" class="section-name selfRef">Technical Requirements</a>
      </h2>
<p id="section-3-1">The goal is to work out the engineering tradeoff around <span>[<a href="#zookotriangle" class="cite xref">zookotriangle</a>]</span>.
Specifically it says there are three aspects that must be traded off:<a href="#section-3-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3-2.1">
          <p id="section-3-2.1.1">Human-meaningful<a href="#section-3-2.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-3-2.2">
          <p id="section-3-2.2.1">Secure<a href="#section-3-2.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-3-2.3">
          <p id="section-3-2.3.1">Decentralized<a href="#section-3-2.3.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<div id="naming">
<section id="section-3.1">
        <h3 id="name-naming">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-naming" class="section-name selfRef">Naming</a>
        </h3>
<p id="section-3.1-1">PKIX certificates are a centralized naming scheme derived from DNS.
These names have (the possibility of) having human-readable names.
But the most significant property is uniqueness -- each name has its own
identity and that identity can be proven.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<p id="section-3.1-2">A system that does not rely on centralized naming lacks this inherient
uniqueness property.<a href="#section-3.1-2" class="pilcrow">¶</a></p>
<p id="section-3.1-3">Name collisions can be engineered by attackers for nefarious purposes.
For example, if a victim is configured to use the (likely) unique
name "printer-12ab34cd56ef.local" (containing the printer's full or
partial MAC address), an attacker can respond to connections to that
name, potentially stealing the user's authentication credentials
to that printer or seeing the content the user sent to that printer.
Similar attacks are possible with file shares.  This problem is
exacerbated if non-unique names are used (e.g., simply "printer.local"
or "router.local"), as it reduces the attacker's effort.
Humans prefer simple, human-readable
names, but a strong identity cannot be created with such names.<a href="#section-3.1-3" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-3.1-4.1">
            <p id="section-3.1-4.1.1">R-UNIQUE-NAME: The system <span class="bcp14">MUST</span> have a way to uniquely identify
  servers.<a href="#section-3.1-4.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="cryptographic-binding">
<section id="section-3.2">
        <h3 id="name-cryptographic-binding">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-cryptographic-binding" class="section-name selfRef">Cryptographic Binding</a>
        </h3>
<p id="section-3.2-1">A server's name has to be mapped to its cryptographic identity.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-3.2-2.1">
            <p id="section-3.2-2.1.1">R-BINDING: The Web Origin <span class="bcp14">MUST</span> be cryptographically bound to one or
  more key pairs, where the private keying material is on the service
  endpoint and where an attacker without the private key(s) is unable
  to access any state associated with the Web Origin.<a href="#section-3.2-2.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-3.2-3">A client has to be able to validate the name maps to the cryptographic
identity.<a href="#section-3.2-3" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-3.2-4.1">
            <p id="section-3.2-4.1.1">R-VALIDATE: Clients <span class="bcp14">MUST</span> be able to cryptographically validate that
  the authenticating server matches the identity in the URI / Web
  Origin.<a href="#section-3.2-4.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-3.2-5">Web browsers and modern users both expect a URI.<a href="#section-3.2-5" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-3.2-6.1">
            <p id="section-3.2-6.1.1">R-URI: It <span class="bcp14">MUST</span> be possible to construct a URI that encapsulates a
  Web Origin and its cryptographically-bound identity information.<a href="#section-3.2-6.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="abstract-naming">
<section id="section-3.3">
        <h3 id="name-abstract-naming">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-abstract-naming" class="section-name selfRef">Abstract Naming</a>
        </h3>
<p id="section-3.3-1">Using IP addresses in names is problematic if the server's IP address
changes due to ISP renumbering or internal network DHCP server
reconfiguration.<a href="#section-3.3-1" class="pilcrow">¶</a></p>
<p id="section-3.3-2">Given common NAT44 (NAPT), many many networks will share the same IPv4 addresses.<a href="#section-3.3-2" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-3.3-3.1">
            <p id="section-3.3-3.1.1">R-ABSTRACT: The solution <span class="bcp14">SHOULD</span> abstract names from IP addresses.<a href="#section-3.3-3.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-3.3-4">Any given name should be resolvable to a mixture of IPv4, IPv6
Link-Local (on an Interface), IPv6 ULA, and IPv6 Globally-Routable
addresses. Operating a local DNS is beyond the scope of many
administrators, so being able to advertise the server using
<span>[<a href="#DNS-SD" class="cite xref">DNS-SD</a>]</span> is necessary.<a href="#section-3.3-4" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-3.3-5.1">
            <p id="section-3.3-5.1.1">R-DNS-SD: The name <span class="bcp14">MUST</span> be advertisable using <span>[<a href="#DNS-SD" class="cite xref">DNS-SD</a>]</span><a href="#section-3.3-5.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="avoid-central-authority">
<section id="section-3.4">
        <h3 id="name-avoid-central-authority">
<a href="#section-3.4" class="section-number selfRef">3.4. </a><a href="#name-avoid-central-authority" class="section-name selfRef">Avoid Central Authority</a>
        </h3>
<p id="section-3.4-1">A solution needs to be self-contained and not use the central
authority of PKIX.  Being self-contained also removes reliance
on a device vendor (to operate a centralized service).<a href="#section-3.4-1" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-3.4-2.1">
            <p id="section-3.4-2.1.1">R-AVOID-CENTRAL: A solution <span class="bcp14">MUST NOT</span> rely on central
  trust hierarchy.<a href="#section-3.4-2.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-3.4-3">Vendors go out of business or lose interest in continuing to service
old products. The products may still be operational.<a href="#section-3.4-3" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-3.4-4.1">
            <p id="section-3.4-4.1.1">R-AVOID-VENDOR: A solution <span class="bcp14">SHOULD NOT</span> (<span class="bcp14">MUST NOT</span>?) have continued
  reliance on a service operated by a vendor, including if the device
  is reset to factory defaults (e.g., reset for troubleshotting or
  because sold).<a href="#section-3.4-4.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="multiple-application-protocols">
<section id="section-3.5">
        <h3 id="name-multiple-application-protoc">
<a href="#section-3.5" class="section-number selfRef">3.5. </a><a href="#name-multiple-application-protoc" class="section-name selfRef">Multiple Application Protocols</a>
        </h3>
<p id="section-3.5-1">A solution has to support HTTPS because it is frequently used for
device management.<a href="#section-3.5-1" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-3.5-2.1">
            <p id="section-3.5-2.1.1">R-HTTPS: A solution <span class="bcp14">MUST</span> support HTTPS.<a href="#section-3.5-2.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-3.5-3">Other encrypted protocols are also frequently used on local networks
for DNS, file sharing, mail, and telephony.<a href="#section-3.5-3" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-3.5-4.1">
            <p id="section-3.5-4.1.1">R-MULT-APP: A solution <span class="bcp14">SHOULD</span> support other application-level
  protocols such as DoT <span>[<a href="#RFC7858" class="cite xref">RFC7858</a>]</span>, SMB over
  QUIC <span>[<a href="#smb-quic" class="cite xref">smb-quic</a>]</span>, IMAP <span>[<a href="#RFC8314" class="cite xref">RFC8314</a>]</span>, and SIP <span>[<a href="#RFC3261" class="cite xref">RFC3261</a>]</span>, as
  those protocols are routinely served within a local domain.<a href="#section-3.5-4.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="cryptographic-agility">
<section id="section-3.6">
        <h3 id="name-cryptographic-agility">
<a href="#section-3.6" class="section-number selfRef">3.6. </a><a href="#name-cryptographic-agility" class="section-name selfRef">Cryptographic Agility</a>
        </h3>
<p id="section-3.6-1">A solution has to support moving to new cryptographic functions.<a href="#section-3.6-1" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-3.6-2.1">
            <p id="section-3.6-2.1.1">R-AGILITY: A solution <span class="bcp14">SHOULD</span> support cryptographic agility (such as
  supporting more than one active key type and different hashes).<a href="#section-3.6-2.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="tls-server-name-indication">
<section id="section-3.7">
        <h3 id="name-tls-server-name-indication">
<a href="#section-3.7" class="section-number selfRef">3.7. </a><a href="#name-tls-server-name-indication" class="section-name selfRef">TLS Server Name Indication</a>
        </h3>
<p id="section-3.7-1">TLS servers frequently use the TLS SNI <span>[<a href="#RFC6066" class="cite xref">RFC6066</a>]</span> extension to
support multiple identities on a single server.<a href="#section-3.7-1" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-3.7-2.1">
            <p id="section-3.7-2.1.1">R-TLS-SNI: A solution <span class="bcp14">SHOULD</span> support TLS SNI so a server knows which
  key pair/cert is expected.<a href="#section-3.7-2.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="w3c-private-network-access">
<section id="section-3.8">
        <h3 id="name-w3c-private-network-access">
<a href="#section-3.8" class="section-number selfRef">3.8. </a><a href="#name-w3c-private-network-access" class="section-name selfRef">W3C Private Network Access</a>
        </h3>
<p id="section-3.8-1">To prevent various attacks, W3C has constrained how browsers operate
on private networks<a href="#section-3.8-1" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-3.8-2.1">
            <p id="section-3.8-2.1.1">R-PNA: A solution <span class="bcp14">SHOULD</span> integrate well with an evolution of
<span>[<a href="#w3c-pna" class="cite xref">w3c-pna</a>]</span> and both allow for an improved model there but should also
provide more robust solutions to vulnerabilities that it tries to
address<a href="#section-3.8-2.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="operate-with-local-resources">
<section id="section-3.9">
        <h3 id="name-operate-with-local-resource">
<a href="#section-3.9" class="section-number selfRef">3.9. </a><a href="#name-operate-with-local-resource" class="section-name selfRef">Operate with Local Resources</a>
        </h3>
<p id="section-3.9-1">The TLDs ".local" and ".internal" are defined local domains and
enterprise networks usually have a site domain
("internal.example.com").  A solution that scales from a home
network to an enterprise network is desirable.<a href="#section-3.9-1" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-3.9-2.1">
            <p id="section-3.9-2.1.1">R-LOCAL: A solution <span class="bcp14">MUST</span> operate with  .local and .internal, and <span class="bcp14">SHOULD</span>
operate with an administratively-defined zone (e.g., internal.example.com).<a href="#section-3.9-2.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-3.9-3.1">
            <p id="section-3.9-3.1.1">Discuss: <span class="bcp14">MAY</span> constrain to the DHCP domain-search value??  Should we
also allow any arbitrary name if the IP address is local (RFC1918
address), too?<a href="#section-3.9-3.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="operate-standalone">
<section id="section-3.10">
        <h3 id="name-operate-standalone">
<a href="#section-3.10" class="section-number selfRef">3.10. </a><a href="#name-operate-standalone" class="section-name selfRef">Operate Standalone</a>
        </h3>
<p id="section-3.10-1">The system needs to operate without a connection to the Internet.
This is necessary because Internet connectivity is sometimes flaky or
unavailable (e.g., cabin in the woods, lengthy ISP outage).<a href="#section-3.10-1" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-3.10-2.1">
            <p id="section-3.10-2.1.1">R-STANDALONE: <span class="bcp14">MUST NOT</span> require Internet connectivity to operate
securely, for its initial configuration, or to add or remove a device
from list of authorized devices in the system.<a href="#section-3.10-2.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-3.10-3.1">
            <p id="section-3.10-3.1.1">Discuss: perhaps want to refine wording of this requirement, or
split into separate requirements.<a href="#section-3.10-3.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="web-origin">
<section id="section-3.11">
        <h3 id="name-web-origin">
<a href="#section-3.11" class="section-number selfRef">3.11. </a><a href="#name-web-origin" class="section-name selfRef">Web Origin</a>
        </h3>
<p id="section-3.11-1">The Web Origin is comprised of the scheme (e.g., "https:"), hostname, and port.  Today,
when a key rotation occurs the Web Origin remains the same.  In this way, things like
stored web data (forms, passwords, cookies) can be used even after a key rotation.<a href="#section-3.11-1" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-3.11-2.1">
            <p id="section-3.11-2.1.1">R-WEB-ORIGIN:  The Web Origin <span class="bcp14">MUST</span> be retained during key rotation.<a href="#section-3.11-2.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="miscellaneous">
<section id="section-3.12">
        <h3 id="name-miscellaneous">
<a href="#section-3.12" class="section-number selfRef">3.12. </a><a href="#name-miscellaneous" class="section-name selfRef">Miscellaneous</a>
        </h3>
<ol start="1" type="1" class="normal type-1" id="section-3.12-1">
<li id="section-3.12-1.1">
            <p id="section-3.12-1.1.1">It <span class="bcp14">SHOULD</span> be possible to have a way to represent a URI that
includes a single specific IP address and the cryptographic identity
of the service endpoint.<a href="#section-3.12-1.1.1" class="pilcrow">¶</a></p>
</li>
        </ol>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-3.12-2.1">
            <p id="section-3.12-2.1.1">Discuss: the above requirement needs to be re-written.<a href="#section-3.12-2.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<ol start="1" type="1" class="normal type-1" id="section-3.12-3">
<li id="section-3.12-3.1">
            <p id="section-3.12-3.1.1"><span class="bcp14">SHOULD</span> support key rotation (even if via 301 redirect)<a href="#section-3.12-3.1.1" class="pilcrow">¶</a></p>
</li>
        </ol>
<ul class="normal">
<li class="normal" id="section-3.12-4.1">
            <p id="section-3.12-4.1.1">Q: is it acceptable to state to be lost here?  Note: likely cannot
do 301 if doing TLS (HTTPS).  Is this suggestion to start HTTP and
upgrade to HTTPS?  Could be useful for HTTPS but redirect unavailable
for IPP, SMB, DoH.<a href="#section-3.12-4.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-3.12-5.1">
            <p id="section-3.12-5.1.1">Discuss: the above requirement needs to be re-written.<a href="#section-3.12-5.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<ol start="1" type="1" class="normal type-1" id="section-3.12-6">
<li id="section-3.12-6.1">
            <p id="section-3.12-6.1.1"><span class="bcp14">SHOULD</span> support building trust relationships within devices in the
local environment<a href="#section-3.12-6.1.1" class="pilcrow">¶</a></p>
</li>
        </ol>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-3.12-7.1">
            <p id="section-3.12-7.1.1">Discuss: the above requirement needs to be re-written.<a href="#section-3.12-7.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<ol start="1" type="1" class="normal type-1" id="section-3.12-8">
<li id="section-3.12-8.1">
            <p id="section-3.12-8.1.1">Could this help with HTTPS access to Wi-Fi login portals
(<span>[<a href="#RFC8952" class="cite xref">RFC8952</a>]</span>, <span>[<a href="#RFC8910" class="cite xref">RFC8910</a>]</span>)?<a href="#section-3.12-8.1.1" class="pilcrow">¶</a></p>
</li>
        </ol>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-3.12-9.1">
            <p id="section-3.12-9.1.1">Discuss: the above requirement needs to be re-written.<a href="#section-3.12-9.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="human-factors-requirements">
<section id="section-4">
      <h2 id="name-human-factors-requirements">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-human-factors-requirements" class="section-name selfRef">Human Factors Requirements</a>
      </h2>
<div id="discoverable">
<section id="section-4.1">
        <h3 id="name-discoverable">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-discoverable" class="section-name selfRef">Discoverable</a>
        </h3>
<p id="section-4.1-1">Most local networks, especially home networks, do not operate their
own DNS server.  Many clients already support listening for DNS-SD
broadcasts.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-4.1-2.1">
            <p id="section-4.1-2.1.1">R-DISCOVER: A solution <span class="bcp14">SHOULD</span> have a way to do discovery of
endpoints and their identities (for example, via <span>[<a href="#DNS-SD" class="cite xref">DNS-SD</a>]</span>).<a href="#section-4.1-2.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="easy-to-use">
<section id="section-4.2">
        <h3 id="name-easy-to-use">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-easy-to-use" class="section-name selfRef">Easy to Use</a>
        </h3>
<p id="section-4.2-1">Successful solutions are usually also easy to deploy.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-4.2-2.1">
            <p id="section-4.2-2.1.1">R-EASY: A solution <span class="bcp14">SHOULD</span> have human factors and adversarial testing
on proposed solutions to make sure that this solution provides a
reasonable experience to average and novice end-users and does not
introduce new security exploitation vectors<a href="#section-4.2-2.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="bookmarkable">
<section id="section-4.3">
        <h3 id="name-bookmarkable">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-bookmarkable" class="section-name selfRef">Bookmarkable</a>
        </h3>
<p id="section-4.3-1">Names (or aliases to those names) should be simple for users -- ideally,
user-defined so that if the underlying name is complex the user can
create an alias that is meaningful to them.<a href="#section-4.3-1" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-4.3-2.1">
            <p id="section-4.3-2.1.1">R-BOOKMARK: A solution <span class="bcp14">SHOULD</span> have a URI that users can Bookmark to create an association
to a friendly name.<a href="#section-4.3-2.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-4.3-3.1">
            <p id="section-4.3-3.1.1">Discussion: Can URL bar of the browser honor mDNS/DNSSD advertised
names, or give a pull-down of them similar to how the "add printer"
dialog does for printers?  This would help ease the use of long FQDN
so it's almost as easy as router.local.  Especially if it could show a
nickname that is configured by the printer.  Browser extensions
exist for DNS-SD and mDNS (<span>[<a href="#Safari-ext" class="cite xref">Safari-ext</a>]</span>, <span>[<a href="#Firefox-ext" class="cite xref">Firefox-ext</a>]</span>).<a href="#section-4.3-3.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="human-friendly-name">
<section id="section-4.4">
        <h3 id="name-human-friendly-name">
<a href="#section-4.4" class="section-number selfRef">4.4. </a><a href="#name-human-friendly-name" class="section-name selfRef">Human-friendly Name</a>
        </h3>
<p id="section-4.4-1">Names (or aliases to those names) should be simple for users -- ideally,
user-defined so that if the underlying name is complex the user can
create an alias that is meaningful to them.<a href="#section-4.4-1" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-4.4-2.1">
            <p id="section-4.4-2.1.1">R-CONSISTENT: A solution <span class="bcp14">SHOULD</span> represent these URIs to humans in a
consistent, readable, and non-confusing fashion.  (In a browser,
users shouldn't see the key fingerprint by default but rather a
representation of its presence)<a href="#section-4.4-2.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="big-open-questions">
<section id="section-5">
      <h2 id="name-big-open-questions">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-big-open-questions" class="section-name selfRef">Big Open Questions</a>
      </h2>
<div id="trust-on-first-use-tofu">
<section id="section-5.1">
        <h3 id="name-trust-on-first-use-tofu">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-trust-on-first-use-tofu" class="section-name selfRef">Trust on First Use (TOFU)</a>
        </h3>
<p id="section-5.1-1">As evidenced by web browser behavior over the years with self-signed certificates
and their (increased) warnings, TOFU will not be acceptable.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="user-experience">
<section id="section-5.2">
        <h3 id="name-user-experience">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-user-experience" class="section-name selfRef">User Experience</a>
        </h3>
<p id="section-5.2-1">For a solution, what is the User Experience for any trust relationship / web-of-trust?<a href="#section-5.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="trust-relationship">
<section id="section-5.3">
        <h3 id="name-trust-relationship">
<a href="#section-5.3" class="section-number selfRef">5.3. </a><a href="#name-trust-relationship" class="section-name selfRef">Trust Relationship</a>
        </h3>
<p id="section-5.3-1">For a solution, what is the nature of the trust relationship?<a href="#section-5.3-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.3-2.1">
            <p id="section-5.3-2.1.1">Peer trust web?<a href="#section-5.3-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-5.3-2.2">
            <p id="section-5.3-2.2.1">Central CA within the local environment / trust clearing house?<a href="#section-5.3-2.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-5.3-2.3">
            <p id="section-5.3-2.3.1">Client establishes its own trust to the server<a href="#section-5.3-2.3.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="interaction-with-matterthread">
<section id="section-5.4">
        <h3 id="name-interaction-with-matter-thr">
<a href="#section-5.4" class="section-number selfRef">5.4. </a><a href="#name-interaction-with-matter-thr" class="section-name selfRef">Interaction with Matter/Thread</a>
        </h3>
<p id="section-5.4-1">How does a solution tie into systems like Matter/Thread that have their own trust establishment frameworks?<a href="#section-5.4-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="use-cases">
<section id="section-6">
      <h2 id="name-use-cases">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-use-cases" class="section-name selfRef">Use Cases</a>
      </h2>
<p id="section-6-1">For the below, "Secure communications" means being able to make a TLS
connection to a service such that the service is able to authenticate
itself in a way to prevent MitM attacks.  The security model must be
TOFU at a minimum, but when the identity of a service is none it
should be possible to send it as a URI in such as a way to present a
secure association rooted in the connection that sent it:<a href="#section-6-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6-2.1">
          <p id="section-6-2.1.1">Secure communications via HTTPS to admin interfaces on CPEs for
both initial and ongoing configuration tasks of various servers
(router, printer, NAS, etc.).<a href="#section-6-2.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-6-2.2">
          <p id="section-6-2.2.1">Secure communications to DoH/DoT servers on CPEs<a href="#section-6-2.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-6-2.3">
          <p id="section-6-2.3.1">Secure communications to printers (IPPS <span>[<a href="#RFC7472" class="cite xref">RFC7472</a>]</span> printing)<a href="#section-6-2.3.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-6-2.4">
          <p id="section-6-2.4.1">Secure communications to other local services (SMB over QUIC to
another workstation or a NAS) and IoT devices<a href="#section-6-2.4.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-6-2.5">
          <p id="section-6-2.5.1">Secure communications to localhost processes from a browser (e.g.,
admin tools)<a href="#section-6-2.5.1" class="pilcrow">¶</a></p>
</li>
      </ul>
</section>
</div>
<div id="related">
<section id="section-7">
      <h2 id="name-related-work">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-related-work" class="section-name selfRef">Related Work</a>
      </h2>
<p id="section-7-1">Martin Thomson wrote HTTPS for Local Domains <span>[<a href="#thomson-hld" class="cite xref">thomson-hld</a>]</span> which
covers requirements, discusses several solutions and their tradeoffs,
and suggests a solution where the client extends the Web Origin to
include the server's public key. It does not allow the server to
rotate its public key as that would change the extended Web Origin (see
<a href="#web-origin" class="auto internal xref">Section 3.11</a>).<a href="#section-7-1" class="pilcrow">¶</a></p>
<p id="section-7-2">Dan Wing has proposed a Referee system <span>[<a href="#I-D.wing-settle-referee" class="cite xref">I-D.wing-settle-referee</a>]</span>
which uses a new HTTPS-based server to authorize servers public keys
(akin to an allowlist or to OCSP stapling) and encoding the server's
public key into its hostname.  Like <span>[<a href="#thomson-hld" class="cite xref">thomson-hld</a>]</span>, it does not allow
a server to rotate its key (see <a href="#web-origin" class="auto internal xref">Section 3.11</a>).<a href="#section-7-2" class="pilcrow">¶</a></p>
<p id="section-7-3">Michael Sweet has proposed a locally-deployed Certification Authority
<span>[<a href="#I-D.sweet-iot-acme" class="cite xref">I-D.sweet-iot-acme</a>]</span> that can be incrementally deployed.<a href="#section-7-3" class="pilcrow">¶</a></p>
<p id="section-7-4">W3C worked on this problem from 2017 through 2021 <span>[<a href="#w3c-httpslocal" class="cite xref">w3c-httpslocal</a>]</span>. More recently,
W3C had a workshop on the problem in September 2024 <span>[<a href="#tpac" class="cite xref">tpac</a>]</span>.<a href="#section-7-4" class="pilcrow">¶</a></p>
<p id="section-7-5">W3C has a working draft on OpenScreen Network Protocol <span>[<a href="#w3c-onsp" class="cite xref">w3c-onsp</a>]</span> which
establish trust between devices for the purposes of media casting and
remote presentation using DNS-SD, TLS for an initial unauthenticated
connection, SPAKE2 to validate mutual identity and exchange
certificates.<a href="#section-7-5" class="pilcrow">¶</a></p>
<p id="section-7-6">W3C WICG also has a working draft on Peer-to-Peer API <span>[<a href="#w3c-local-peer" class="cite xref">w3c-local-peer</a>]</span>
that layers a web API on top of the OpenScreen Network Protocol to
allow local communication between browsers without the aid of a
server. It contains proposed APIs for the following on a local
network: peer advertising, peer discovery and authentication,
and establishing a WebTransport.<a href="#section-7-6" class="pilcrow">¶</a></p>
<p id="section-7-7">The boundaries of a limited domain -- such as the local domain described in this
document -- are explored in <span><a href="https://rfc-editor.org/rfc/rfc8799#section-6" class="relref">Section 6</a> of [<a href="#RFC8799" class="cite xref">RFC8799</a>]</span>.<a href="#section-7-7" class="pilcrow">¶</a></p>
<p id="section-7-8">The IOTOPS working group and the associated IOT Security Foundation
<span>[<a href="#iotsf" class="cite xref">iotsf</a>]</span> discussed the problem and some requirements in their white
paper <span>[<a href="#iotops-suib" class="cite xref">iotops-suib</a>]</span> and presentation to IOTOPS working group at
IETF112 <span>[<a href="#iotops-suib-prezo" class="cite xref">iotops-suib-prezo</a>]</span>.<a href="#section-7-8" class="pilcrow">¶</a></p>
<p id="section-7-9">A threshold key system is described and implemented at <span>[<a href="#phb-mesh" class="cite xref">phb-mesh</a>]</span> with the following
description:<a href="#section-7-9" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7-10.1">
          <p id="section-7-10.1.1">The Mesh is designed to provide users with the highest level of
  security that is possible without asking them to do anything at
  all. For this to become possible, the Mesh will have to be shipped
  to users as part of the machine Operating System.<a href="#section-7-10.1.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-7-11">A summary of the problem and analysis of several solutions
(Locally-installed CAs, Plex, WebRTC and WebTransport, TOFU, shared
secrets) and some drawbacks of those solutions is at <span>[<a href="#stark" class="cite xref">stark</a>]</span>.<a href="#section-7-11" class="pilcrow">¶</a></p>
<p id="section-7-12">A method using PAKE and a shared secret (displayed on the server) is
explained at <span>[<a href="#shared" class="cite xref">shared</a>]</span>.<a href="#section-7-12" class="pilcrow">¶</a></p>
</section>
</div>
<div id="security-considerations">
<section id="section-8">
      <h2 id="name-security-considerations">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-8-1">TODO Security<a href="#section-8-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana-considerations">
<section id="section-9">
      <h2 id="name-iana-considerations">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-9-1">This document has no IANA actions.<a href="#section-9-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec-combined-references">
<section id="section-10">
      <h2 id="name-references">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<div id="sec-normative-references">
<section id="section-10.1">
        <h3 id="name-normative-references">
<a href="#section-10.1" class="section-number selfRef">10.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
      <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</div>
<div id="sec-informative-references">
<section id="section-10.2">
        <h3 id="name-informative-references">
<a href="#section-10.2" class="section-number selfRef">10.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="DNR">[DNR]</dt>
        <dd>
<span class="refAuthor">Boucadair, M., Ed.</span>, <span class="refAuthor">Reddy.K, T., Ed.</span>, <span class="refAuthor">Wing, D.</span>, <span class="refAuthor">Cook, N.</span>, and <span class="refAuthor">T. Jensen</span>, <span class="refTitle">"DHCP and Router Advertisement Options for the Discovery of Network-designated Resolvers (DNR)"</span>, <span class="seriesInfo">RFC 9463</span>, <span class="seriesInfo">DOI 10.17487/RFC9463</span>, <time datetime="2023-11" class="refDate">November 2023</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9463">https://www.rfc-editor.org/rfc/rfc9463</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="DNS-SD">[DNS-SD]</dt>
        <dd>
<span class="refAuthor">Cheshire, S.</span> and <span class="refAuthor">M. Krochmal</span>, <span class="refTitle">"DNS-Based Service Discovery"</span>, <span class="seriesInfo">RFC 6763</span>, <span class="seriesInfo">DOI 10.17487/RFC6763</span>, <time datetime="2013-02" class="refDate">February 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc6763">https://www.rfc-editor.org/rfc/rfc6763</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="everywhere">[everywhere]</dt>
        <dd>
<span class="refAuthor">EFF</span>, <span class="refTitle">"HTTPS Everywhere"</span>, <time datetime="2025-03" class="refDate">March 2025</time>, <span>&lt;<a href="https://www.eff.org/https-everywhere">https://www.eff.org/https-everywhere</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Firefox-ext">[Firefox-ext]</dt>
        <dd>
<span class="refAuthor">Smith, D.</span>, <span class="refTitle">"mDNS Discover"</span>, <time datetime="2020-12" class="refDate">December 2020</time>, <span>&lt;<a href="https://addons.mozilla.org/en-US/firefox/addon/mdns-discover/">https://addons.mozilla.org/en-US/firefox/addon/mdns-discover/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.sweet-iot-acme">[I-D.sweet-iot-acme]</dt>
        <dd>
<span class="refAuthor">Sweet, M.</span>, <span class="refTitle">"ACME-Based Provisioning of IoT Devices"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-sweet-iot-acme-07</span>, <time datetime="2025-02-07" class="refDate">7 February 2025</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-sweet-iot-acme-07">https://datatracker.ietf.org/doc/html/draft-sweet-iot-acme-07</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.wing-settle-referee">[I-D.wing-settle-referee]</dt>
        <dd>
<span class="refAuthor">Wing, D.</span>, <span class="refTitle">"A Referee to Authenticate Servers in Local Domains"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-wing-settle-referee-00</span>, <time datetime="2025-01-07" class="refDate">7 January 2025</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-wing-settle-referee-00">https://datatracker.ietf.org/doc/html/draft-wing-settle-referee-00</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="iotops-suib">[iotops-suib]</dt>
        <dd>
<span class="refAuthor">IOT Security Foundation</span>, <span class="refTitle">"SUIB: Router and IoT Vulnerabilities: Insecure by Design"</span>, <time datetime="2021-08" class="refDate">August 2021</time>, <span>&lt;<a href="https://iotsecurityfoundation.org/wp-content/uploads/2021/08/ManySecured-SUIB-White-Paper.pdf">https://iotsecurityfoundation.org/wp-content/uploads/2021/08/ManySecured-SUIB-White-Paper.pdf</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="iotops-suib-prezo">[iotops-suib-prezo]</dt>
        <dd>
<span class="refAuthor">Geertsma, J.</span>, <span class="refAuthor">Amsüss, C.</span>, <span class="refAuthor">Richardson, M.</span>, and <span class="refAuthor">N. Allott</span>, <span class="refTitle">"SUIB: Browsing local web resources in a secure usable manner"</span>, <time datetime="2021-11" class="refDate">November 2021</time>, <span>&lt;<a href="https://datatracker.ietf.org/meeting/112/materials/slides-112-iotops-suib-browsing-local-web-resources-in-a-secure-usable-manner-iot-device-configuration-as-a-special-case-00.pdf">https://datatracker.ietf.org/meeting/112/materials/slides-112-iotops-suib-browsing-local-web-resources-in-a-secure-usable-manner-iot-device-configuration-as-a-special-case-00.pdf</a>&gt;</span>. <span class="annotation">Presentation of IOT Security Foundation SUIB to IETF112 IOTOPS working group</span>
        </dd>
<dd class="break"></dd>
<dt id="iotsf">[iotsf]</dt>
        <dd>
<span class="refTitle">"IOT Security Foundation"</span>, <time datetime="2015-09" class="refDate">September 2015</time>, <span>&lt;<a href="https://iotsecurityfoundation.org">https://iotsecurityfoundation.org</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="not-secure">[not-secure]</dt>
        <dd>
<span class="refAuthor">Google</span>, <span class="refTitle">"A secure web is here to stay"</span>, <time datetime="2018" class="refDate">2018</time>, <span>&lt;<a href="https://blog.chromium.org/2018/02/a-secure-web-is-here-to-stay.html">https://blog.chromium.org/2018/02/a-secure-web-is-here-to-stay.html</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="phb-mesh">[phb-mesh]</dt>
        <dd>
<span class="refAuthor">Hallam-Baker, P.</span>, <span class="refTitle">"Mathematical Mesh"</span>, <time datetime="2022" class="refDate">2022</time>, <span>&lt;<a href="https://github.com/hallambaker/Mathematical-Mesh">https://github.com/hallambaker/Mathematical-Mesh</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="plex">[plex]</dt>
        <dd>
<span class="refAuthor">Valsorda, F.</span>, <span class="refTitle">"How Plex Is Doing Https for All Its Users"</span>, <time datetime="2015-06" class="refDate">June 2015</time>, <span>&lt;<a href="https://words.filippo.io/how-plex-is-doing-https-for-all-its-users/">https://words.filippo.io/how-plex-is-doing-https-for-all-its-users/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3261">[RFC3261]</dt>
        <dd>
<span class="refAuthor">Rosenberg, J.</span>, <span class="refAuthor">Schulzrinne, H.</span>, <span class="refAuthor">Camarillo, G.</span>, <span class="refAuthor">Johnston, A.</span>, <span class="refAuthor">Peterson, J.</span>, <span class="refAuthor">Sparks, R.</span>, <span class="refAuthor">Handley, M.</span>, and <span class="refAuthor">E. Schooler</span>, <span class="refTitle">"SIP: Session Initiation Protocol"</span>, <span class="seriesInfo">RFC 3261</span>, <span class="seriesInfo">DOI 10.17487/RFC3261</span>, <time datetime="2002-06" class="refDate">June 2002</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc3261">https://www.rfc-editor.org/rfc/rfc3261</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5280">[RFC5280]</dt>
        <dd>
<span class="refAuthor">Cooper, D.</span>, <span class="refAuthor">Santesson, S.</span>, <span class="refAuthor">Farrell, S.</span>, <span class="refAuthor">Boeyen, S.</span>, <span class="refAuthor">Housley, R.</span>, and <span class="refAuthor">W. Polk</span>, <span class="refTitle">"Internet X.509 Public Key Infrastructure Certificate and Certificate Revocation List (CRL) Profile"</span>, <span class="seriesInfo">RFC 5280</span>, <span class="seriesInfo">DOI 10.17487/RFC5280</span>, <time datetime="2008-05" class="refDate">May 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc5280">https://www.rfc-editor.org/rfc/rfc5280</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6066">[RFC6066]</dt>
        <dd>
<span class="refAuthor">Eastlake 3rd, D.</span>, <span class="refTitle">"Transport Layer Security (TLS) Extensions: Extension Definitions"</span>, <span class="seriesInfo">RFC 6066</span>, <span class="seriesInfo">DOI 10.17487/RFC6066</span>, <time datetime="2011-01" class="refDate">January 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc6066">https://www.rfc-editor.org/rfc/rfc6066</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7472">[RFC7472]</dt>
        <dd>
<span class="refAuthor">McDonald, I.</span> and <span class="refAuthor">M. Sweet</span>, <span class="refTitle">"Internet Printing Protocol (IPP) over HTTPS Transport Binding and the 'ipps' URI Scheme"</span>, <span class="seriesInfo">RFC 7472</span>, <span class="seriesInfo">DOI 10.17487/RFC7472</span>, <time datetime="2015-03" class="refDate">March 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7472">https://www.rfc-editor.org/rfc/rfc7472</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7858">[RFC7858]</dt>
        <dd>
<span class="refAuthor">Hu, Z.</span>, <span class="refAuthor">Zhu, L.</span>, <span class="refAuthor">Heidemann, J.</span>, <span class="refAuthor">Mankin, A.</span>, <span class="refAuthor">Wessels, D.</span>, and <span class="refAuthor">P. Hoffman</span>, <span class="refTitle">"Specification for DNS over Transport Layer Security (TLS)"</span>, <span class="seriesInfo">RFC 7858</span>, <span class="seriesInfo">DOI 10.17487/RFC7858</span>, <time datetime="2016-05" class="refDate">May 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7858">https://www.rfc-editor.org/rfc/rfc7858</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8314">[RFC8314]</dt>
        <dd>
<span class="refAuthor">Moore, K.</span> and <span class="refAuthor">C. Newman</span>, <span class="refTitle">"Cleartext Considered Obsolete: Use of Transport Layer Security (TLS) for Email Submission and Access"</span>, <span class="seriesInfo">RFC 8314</span>, <span class="seriesInfo">DOI 10.17487/RFC8314</span>, <time datetime="2018-01" class="refDate">January 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8314">https://www.rfc-editor.org/rfc/rfc8314</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8799">[RFC8799]</dt>
        <dd>
<span class="refAuthor">Carpenter, B.</span> and <span class="refAuthor">B. Liu</span>, <span class="refTitle">"Limited Domains and Internet Protocols"</span>, <span class="seriesInfo">RFC 8799</span>, <span class="seriesInfo">DOI 10.17487/RFC8799</span>, <time datetime="2020-07" class="refDate">July 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8799">https://www.rfc-editor.org/rfc/rfc8799</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8910">[RFC8910]</dt>
        <dd>
<span class="refAuthor">Kumari, W.</span> and <span class="refAuthor">E. Kline</span>, <span class="refTitle">"Captive-Portal Identification in DHCP and Router Advertisements (RAs)"</span>, <span class="seriesInfo">RFC 8910</span>, <span class="seriesInfo">DOI 10.17487/RFC8910</span>, <time datetime="2020-09" class="refDate">September 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8910">https://www.rfc-editor.org/rfc/rfc8910</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8952">[RFC8952]</dt>
        <dd>
<span class="refAuthor">Larose, K.</span>, <span class="refAuthor">Dolson, D.</span>, and <span class="refAuthor">H. Liu</span>, <span class="refTitle">"Captive Portal Architecture"</span>, <span class="seriesInfo">RFC 8952</span>, <span class="seriesInfo">DOI 10.17487/RFC8952</span>, <time datetime="2020-11" class="refDate">November 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8952">https://www.rfc-editor.org/rfc/rfc8952</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Safari-ext">[Safari-ext]</dt>
        <dd>
<span class="refAuthor">Ballard, L.</span>, <span class="refTitle">"Discovery - DNS-SD Browser"</span>, <time datetime="2022" class="refDate">2022</time>, <span>&lt;<a href="https://apps.apple.com/ca/app/discovery-dns-sd-browser/id1381004916?mt=12">https://apps.apple.com/ca/app/discovery-dns-sd-browser/id1381004916?mt=12</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="sec-context">[sec-context]</dt>
        <dd>
<span class="refAuthor">W3C</span>, <span class="refTitle">"Secure Contexts"</span>, <time datetime="2023" class="refDate">2023</time>, <span>&lt;<a href="https://w3c.github.io/webappsec-secure-contexts/">https://w3c.github.io/webappsec-secure-contexts/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="shared">[shared]</dt>
        <dd>
<span class="refAuthor">W3C</span>, <span class="refTitle">"APPROACH-2: Using Shared Secret"</span>, <time datetime="2019-09" class="refDate">September 2019</time>, <span>&lt;<a href="https://httpslocal.github.io/proposals/#approach-2">https://httpslocal.github.io/proposals/#approach-2</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="smb-quic">[smb-quic]</dt>
        <dd>
<span class="refAuthor">Microsoft</span>, <span class="refTitle">"SMB over QUIC"</span>, <time datetime="2024-12" class="refDate">December 2024</time>, <span>&lt;<a href="https://learn.microsoft.com/en-us/windows-server/storage/file-server/smb-over-quic">https://learn.microsoft.com/en-us/windows-server/storage/file-server/smb-over-quic</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="stark">[stark]</dt>
        <dd>
<span class="refAuthor">Stark, E. M.</span>, <span class="refTitle">"When a web PKI certificate won't cut it"</span>, <time datetime="2021-12" class="refDate">December 2021</time>, <span>&lt;<a href="https://emilymstark.com/2021/12/24/when-a-web-pki-certificate-wont-cut-it.html">https://emilymstark.com/2021/12/24/when-a-web-pki-certificate-wont-cut-it.html</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="thomson-hld">[thomson-hld]</dt>
        <dd>
<span class="refAuthor">Thomson, M.</span>, <span class="refTitle">"HTTPS for Local Domains"</span>, <time datetime="2017-09" class="refDate">September 2017</time>, <span>&lt;<a href="https://docs.google.com/document/u/0/d/170rFC91jqvpFrKIqG4K8Vox8AL4LeQXzfikBQXYPmzU/edit">https://docs.google.com/document/u/0/d/170rFC91jqvpFrKIqG4K8Vox8AL4LeQXzfikBQXYPmzU/edit</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="tpac">[tpac]</dt>
        <dd>
<span class="refAuthor">IL, C.</span>, <span class="refTitle">"HTTPS for Local Networks"</span>, <time datetime="2024-09" class="refDate">September 2024</time>, <span>&lt;<a href="https://github.com/w3c/tpac2024-breakouts/issues/78">https://github.com/w3c/tpac2024-breakouts/issues/78</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="w3c-httpslocal">[w3c-httpslocal]</dt>
        <dd>
<span class="refAuthor">W3C</span>, <span class="refTitle">"HTTPS in Local Network Community Group"</span>, <time datetime="2019" class="refDate">2019</time>, <span>&lt;<a href="https://github.com/httpslocal">https://github.com/httpslocal</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="w3c-local-peer">[w3c-local-peer]</dt>
        <dd>
<span class="refAuthor">W3C WICG</span>, <span class="refTitle">"Local Peer-to-Peer API"</span>, <time datetime="2024-08" class="refDate">August 2024</time>, <span>&lt;<a href="https://wicg.github.io/local-peer-to-peer/">https://wicg.github.io/local-peer-to-peer/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="w3c-onsp">[w3c-onsp]</dt>
        <dd>
<span class="refAuthor">W3C</span>, <span class="refTitle">"Open Screen Network Protocol"</span>, <time datetime="2024-12" class="refDate">December 2024</time>, <span>&lt;<a href="https://www.w3.org/TR/openscreen-network/">https://www.w3.org/TR/openscreen-network/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="w3c-pna">[w3c-pna]</dt>
        <dd>
<span class="refAuthor">W3C</span>, <span class="refTitle">"Private Network Access"</span>, <time datetime="2024-09" class="refDate">September 2024</time>, <span>&lt;<a href="https://wicg.github.io/private-network-access/">https://wicg.github.io/private-network-access/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="zookotriangle">[zookotriangle]</dt>
      <dd>
<span class="refAuthor">Wikipedia</span>, <span class="refTitle">"Zooko's triangle"</span>, <time datetime="2025-03" class="refDate">March 2025</time>, <span>&lt;<a href="https://en.wikipedia.org/wiki/Zooko%27s_triangle">https://en.wikipedia.org/wiki/Zooko%27s_triangle</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="change-history">
<section id="appendix-A">
      <h2 id="name-change-history">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-change-history" class="section-name selfRef">Change History</a>
      </h2>
<div id="changes-in-01">
<section id="appendix-A.1">
        <h3 id="name-changes-in-01">
<a href="#appendix-A.1" class="section-number selfRef">A.1. </a><a href="#name-changes-in-01" class="section-name selfRef">Changes in -01</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-A.1-1.1">
            <p id="appendix-A.1-1.1.1">Changed to 2010 (from 2017) when the problem of local domain
authentication was first discussed.<a href="#appendix-A.1-1.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-A.1-1.2">
            <p id="appendix-A.1-1.2.1">Rather than simple name collision ("printer.local"), discuss how most
products include the device's (partial) MAC address -- which does help
distinguishing devices on different networks. Also explain how an attacker
can use that name.<a href="#appendix-A.1-1.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-A.1-1.3">
            <p id="appendix-A.1-1.3.1">R-AVOID-CENTRAL changed from <span class="bcp14">SHOULD</span> to <span class="bcp14">MUST</span>.<a href="#appendix-A.1-1.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-A.1-1.4">
            <p id="appendix-A.1-1.4.1">Justification text added to almost all R- requirements.<a href="#appendix-A.1-1.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-A.1-1.5">
            <p id="appendix-A.1-1.5.1">Removed R-LOCALHOST, which had said "localhost" should be handled same
as a local domain.  This was removed because localhost is not a unique
name causing other problems for a solution.<a href="#appendix-A.1-1.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-A.1-1.6">
            <p id="appendix-A.1-1.6.1">R-LOCAL expanded to also cover administratively-defined zone (e.g.,
internal.example.com)<a href="#appendix-A.1-1.6.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-A.1-1.7">
            <p id="appendix-A.1-1.7.1">Refined R-STANDALONE.<a href="#appendix-A.1-1.7.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-A.1-1.8">
            <p id="appendix-A.1-1.8.1">Added R-WEB-ORIGIN, and moved key rotation requirement into
R-WEB-ORIGIN to say the web origin has to stay the same if the key
is rotated.<a href="#appendix-A.1-1.8.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-A.1-1.9">
            <p id="appendix-A.1-1.9.1">Declared TOFU as unacceptable (was a question).<a href="#appendix-A.1-1.9.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-A.1-1.10">
            <p id="appendix-A.1-1.10.1">As Related Work, added: Referee, locally-deployed CA, W3C OpenScreen
Network Protocol, W3C WICG Peer-to-Peer API.<a href="#appendix-A.1-1.10.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-A.1-1.11">
            <p id="appendix-A.1-1.11.1">Added pointers to DNS-SD and mDNS extensions for web browsers.<a href="#appendix-A.1-1.11.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="acknowledgments">
<section id="appendix-B">
      <h2 id="name-acknowledgments">
<a href="#name-acknowledgments" class="section-name selfRef">Acknowledgments</a>
      </h2>
<p id="appendix-B-1">Thanks to Michael Sweet for his review and feedback.  Thanks to
Michiel De Backker for references to related W3C work.<a href="#appendix-B-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-C">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Dan Wing</span></div>
<div dir="auto" class="left"><span class="org">Cloud Software Group, Inc.</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:danwing@gmail.com" class="email">danwing@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Erik Nygren</span></div>
<div dir="auto" class="left"><span class="org">Akamai Technologies</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:erik+ietf@nygren.org" class="email">erik+ietf@nygren.org</a>
</div>
<div class="url">
<span>URI:</span>
<a href="http://erik.nygren.org/" class="url">http://erik.nygren.org/</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Michael Richardson</span></div>
<div dir="auto" class="left"><span class="org">Sandelman Software Works</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:mcr+ietf@sandelman.ca" class="email">mcr+ietf@sandelman.ca</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
